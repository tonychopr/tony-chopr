<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <title>Chopper's Trenches - Crash Betting Game</title>
  <link
    href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
    rel="stylesheet"
  />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="game-container">
    <!-- Top‐left balance display -->
    <div class="balance-display" id="balance-display">
      <span class="label">Balance:</span>
      <span id="wallet">620,000</span>
      <span class="currency">$CHOPR</span>
    </div>

    <!-- NEW: non-editable wager mirror -->
    <div class="bet-mirror">
      <span id="bet-mirror">100000</span>
    </div>

    <!-- Top‐right gallery button -->
    <button class="gallery-btn"></button>
    <img id="random-image" class="random-image" />

    <div class="multiplier" id="multiplier">0%</div>
    <canvas id="graph" width="600" height="300"></canvas>

    <!-- DOWN & UP wrappers -->
    <div class="down-btn-wrapper">
      <button class="down-btn" onclick="placeBet('down')"></button>
    </div>
    <div class="up-btn-wrapper">
      <button class="up-btn" onclick="placeBet('up')"></button>
    </div>

    <!-- MAX BET button -->
    <button id="max-btn" class="max-btn"></button>

    <!-- Detached – / input / + controls -->
    <div class="bet-decrease-container">
      <button class="bet-decrease">–</button>
    </div>
    <div class="bet-input-container">
      <input
        type="number"
        id="bet-amount"
        class="bet-input"
        value="100000"
        min="1"
        step="1000"
      />
    </div>
    <div class="bet-increase-container">
      <button class="bet-increase">+</button>
    </div>

    <div class="balance">
      <span class="label">Balance:</span>
      <span id="balance">620,000</span>
      <span class="currency">$CHOPR</span>
    </div>
    <div class="status" id="status">Place a bet to start!</div>

    <!-- Meme generator -->
    <button id="meme-btn" class="meme-generator"></button>

    <!-- Skull button (plays/pauses shuffle playlist) -->
    <button id="skull-btn" class="skull-btn"></button>

    <!-- Navigation buttons -->
    <button id="btn-subpage" class="nav-btn" onclick="window.location.href='content.html'"></button>
    <button id="btn-content" class="nav-btn" onclick="window.location.href='subpage.html'"></button>
  </div>

  <script>
    // gallery logic
    const images = [
      '/mnt/data/57944f77-e2bd-42b8-af40-002ae20844fb.png',
      '/mnt/data/2a9b3206-aaca-4928-a3ac-942957d177be.png',
      '/mnt/data/0fedfc9f-355d-4cf3-a187-e6dba97dcbf4.png'
    ];
    let lastImg = -1;
    document.querySelector('.gallery-btn').addEventListener('click', () => {
      const imgEl = document.getElementById('random-image');
      let idx;
      do { idx = Math.floor(Math.random() * images.length); }
      while (idx === lastImg && images.length > 1);
      lastImg = idx;
      imgEl.src = images[idx];
      imgEl.style.display = 'block';
    });

    // game logic
    const canvas          = document.getElementById('graph'),
          ctx             = canvas.getContext('2d'),
          mulDisp         = document.getElementById('multiplier'),
          balDisp         = document.getElementById('balance'),
          walletDisp      = document.getElementById('wallet'),
          statDisp        = document.getElementById('status'),
          betInput        = document.getElementById('bet-amount'),
          betMirror       = document.getElementById('bet-mirror'),
          downBtn         = document.querySelector('.down-btn'),
          upBtn           = document.querySelector('.up-btn'),
          decBtn          = document.querySelector('.bet-decrease'),
          incBtn          = document.querySelector('.bet-increase'),
          maxBtn          = document.getElementById('max-btn'),
          balanceDisplay  = document.getElementById('balance-display');

    
